{% extends 'AppBlog/base.html' %}
{% load static %}
{% block title %}Editar perfil{% endblock %}

{% block content %}
  <div class="container mt-4">
    <h2>Editar tu perfil</h2>
    <form method="POST" enctype="multipart/form-data">
      {% csrf_token %}
      <fieldset class="mb-3">
        <legend>Datos b√°sicos</legend>
        {{ form.as_p }}
      </fieldset>

      {% if extra_form %}
      <fieldset class="mb-3">
        <legend>Datos extendidos ({{ user.role|title }})</legend>
        {{ extra_form.as_p }}
      </fieldset>
      {% endif %}

      <fieldset class="mb-3">
        <legend>Avatar</legend>
        {% if user.avatar %}
          <img src="{{ user.avatar.url }}" alt="Avatar actual" class="img-thumbnail mb-2" style="max-width: 150px;">
        {% endif %}
        {{ avatar_form.as_p }}
      </fieldset>

      <button type="submit" class="btn btn-success">Guardar cambios</button>
    </form>
  </div>
{% endblock %}

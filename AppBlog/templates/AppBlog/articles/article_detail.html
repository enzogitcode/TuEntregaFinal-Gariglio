{% extends 'AppBlog/base.html' %}
{% load static %}

{% block title %}Artículo: {{ article.title }}{% endblock %}

{# Bloques para clases adicionales en layout base, si usás algo como body/header wrappers #}
{% block header_extra_class %}
    {% if article.subject|lower == 'economía' %}
        articleEconomyHeader
    {% endif %}
{% endblock %}

{% block main_extra_class %}
    {% if article.subject|lower == 'economía' %}
        d-flex flex-column pt-2 articleEconomyMain
    {% endif %}
{% endblock %}

{% block content %}
  <div class="container mt-4">
    <h2 class="mb-3">{{ article.title }}</h2>

    <p><strong>Autor:</strong> {{ article.author.get_full_name }} ({{ article.author.email }})</p>
    <p><strong>Materia:</strong> {{ article.subject }}</p>
    <p><strong>Fecha de publicación:</strong> {{ article.date_of_publication }}</p>
    <p><strong>Resumen:</strong> {{ article.resume }}</p>

    <hr>

    <div class="mt-3">
      {{ article.text_article|linebreaks }}
    </div>

    {# Si el usuario es el autor o superusuario, mostrar opciones de edición #}
    {% if request.user == article.author or request.user.is_superuser %}
      <div class="mt-4">
        <a href="{% url 'article_update_form' article.pk %}" class="btn btn-primary me-2">Editar</a>
        <a href="{% url 'article_delete_form' article.pk %}" class="btn btn-danger">Eliminar</a>
      </div>
    {% endif %}
  </div>
{% endblock %}
